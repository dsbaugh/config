
info:
  component: Zuul Server
  
endpoints:
  restart:
    enabled: true
  shutdown:
    enabled: true
  health:
    sensitive: false

zuul:
  routes:
    uname: 
      path: /uname/**
      strip-prefix: true  
    merchant-locator:
      path: /merchant-locator/**
      strip-prefix: true
    service-manager:
      path: /service-manager/**
      strip-prefix: true
    foo:
      path: /foo/**
      strip-prefix: true
  
eureka:
  instance:
    hostname: router
    prefer-ip-address: true
    lease-renewal-interval-in-seconds: 5
  client:
    instance-info-replication-interval-seconds: 5
    registerWithEureka: true
    fetchRegistry: true
    serviceUrl:
      defaultZone: http://discovery:8761/eureka/
    
server:
  port: 8765

logging:
  level:
    ROOT: INFO
    org.springframework.web: DEBUG

spring:
  rabbitmq:
    host: rabbit
    port: 5672
    username: guest
    password: guest
      
router:
  serviceDiscoveryFilter:
    scale-down-threshold: 200
    scale-up-threshold: 600
    responseTimeThreshold: 300
    thresholds:
      scaleUp: 400
      scaleDown: 300 
  services:
    merchant-locator:
      deployments:
        merchant-locator-v1_0:
          auto-scale: true
          auto-start: true
          min-instances: 1
          traffic-ratio: 2
        merchant-locator-v2_0:
          auto-scale: false
          auto-start: true
          traffic-ratio: 1
    service-manager:
      deployments:
        service-manager:
          auto-start: false
          auto-scale: false
          traffic-ratio: 10
